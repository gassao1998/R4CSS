---
title: "practice_dplyr_ptt"
author: "Jilung Hsieh"
date: "9/22/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Practice Notes



# Loading packages
```{r}
library(tidyverse)
library(lubridate)
options(stringsAsFactors = F)
```


# Loading rdata
```{r}
load("data/HatePolitics_éŸ“_201906010320.rda")
posts <- allp.df %>%
    filter(!is.na(board)) %>%
    mutate(ptime = as.POSIXct(strptime(ptime, "%a %b %e %X %Y"))) %>%
    filter(ptime > as.Date("2018-12-31") & ptime < as.Date("2019-06-01")) %>%
    mutate(poster = str_replace(poster, "(.+?) \\(.*\\)", "\\1")) %>%
    select(-ip.len)
    # mutate(week = cut(ptime, breaks ="week")) %>% 
    # count(week) %>%
    # ggplot() + aes(as.Date(week), n) + 
    # geom_col()
comments <- allc.df %>%
    right_join(posts %>% select(plink, poster), by="plink") %>%
    select(-cindex, -ctotal)
save(posts, comments, file = "data/HatePolitics_Hang_20190101_2019_06_01.rda")  
```

